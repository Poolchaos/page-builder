<template>

  <div class="o-conversation-content__inner">

    <div class="o-conversation-body col-sm-10 col-sm-offset-1 ">

      <!-- header -->
      <div class="row o-conversation-body__header">
        <div class="c-to-center">
          <h1 class="o-text__header--xlarge u-text-style__align--center u-text-style__space--none" title="${conversationStore.selectedContact.firstName} ${conversationStore.selectedContact.surname}"><span class="u-text-style__color--tertiary">${totalItems}</span> Pending Conversation(s) Found for<br/>${conversationStore.selectedContact.firstName} ${conversationStore.selectedContact.surname}</h1>
        </div>
      </div>

      <!-- content -->
      <div class="row o-conversation-body__content">

        <div class="o-conversation-utility o-conversation-utility--filter-padding-fix col-sm-12">

          <div class="o-conversation-utility__button-wrap pull-left" style="pointer-events: none">
            <button class="o-button o-button__navigate o-button__navigate--primary-colour">
              <span class="o-button o-button__navigate o-button__navigate-inner o-button__navigate-inner--thin">
						<span class="o-icon-container o-icon-container--small-button o-button-navigate-icon--search"></span>
              </span>
            </button>
          </div>

          <div class="o-conversation-form-field o-conversation-form-field--one-button pull-left">
            <form>
              <span class="o-form-field__input-border-line"></span>
              <input class="input-form o-form-field__input o-text__input" type="text" placeholder="Search Conversations" value.bind="searchText" id="conversationName" keyup.trigger="search()" />
              <span class="o-form-field__input-border-line"></span>
            </form>
          </div>

        </div>

        <div class="o-conversation-search-list__parent-wrapper">

          <div class="o-no-data aurelia-hide" show.bind="!pagedItems || pagedItems.length === 0">
            <div class="o-no-data__display">
              <div>
                <span class="u-text-style__size--medium">No data to display.</span>
              </div>
            </div>
          </div>

          <button class="o-tile-list-view__pager o-tile-list-view__pager--flip o-tile-list-view__pager--previous o-tile-list-view__pager--l-closer aurelia-hide" show.bind="showPrev" click.delegate="prev()"></button>

          <ul class="o-conversation-search-list__child-wrapper">
            <li class="o-conversation-search-list__item o-conversation-search-list__item--half" repeat.for="conversation of pagedItems" click.delegate="selectConversation(conversation)">
              <ul class="o-conversation-search-list__nested-list o-view-border__solid-line--tertiary">
                <div class="o-conversation-search-list__nested-list--scroll">

                  <ul class="o-conversation-search-list__nested-list--half o-conversation-search-list__nested-list--left-half">
                    <li class="o-conversation-search-list__nested-list-item u-text-style__size--large" title="${conversation.conversationName}">${conversation.conversationName}</li>
                    <li class="o-conversation-search-list__nested-list-item u-text-style__color--tertiary u-text-style__size--medium">
                      <label class="o-text__label o-conversation-search-list__label">Status:&nbsp;</label>${conversation.status}
                    </li>
                  </ul>

                  <ul show.bind="!conversation.latestInteraction" class="o-conversation-search-list__nested-list--half o-conversation-search-list__nested-list--right-half">
                    <div>No Data to display</div>
                  </ul>

                  <ul show.bind="conversation.latestInteraction" class="o-conversation-search-list__nested-list--half o-conversation-search-list__nested-list--right-half">
                    <li class="o-conversation-search-list__nested-list-item u-text-style__color--tertiary u-text-style__size--medium" title="${conversation.latestInteraction.member.firstName} ${conversation.latestInteraction.member.surname}">
                      <label class="o-text__label o-conversation-search-list__label">Last Agent:&nbsp;</label>${conversation.latestInteraction.member.firstName} ${conversation.latestInteraction.member.surname}
                    </li>
                    <li show.bind="conversation.latestInteraction.channel === 'Outbound Call'" class="o-conversation-search-list__nested-list-item u-text-style__color--tertiary u-text-style__size--medium" title="${conversation.latestInteraction.toNumber}">
                      <label class="o-text__label o-conversation-search-list__label">To:&nbsp;</label>${conversation.latestInteraction.toNumber}
                    </li>

                    <li show.bind="conversation.latestInteraction.channel === 'Inbound Call'" class="o-conversation-search-list__nested-list-item u-text-style__color--tertiary u-text-style__size--medium" title="${conversation.latestInteraction.fromNumber}">
                      <label class="o-text__label o-conversation-search-list__label">From:&nbsp;</label>${conversation.latestInteraction.fromNumber}
                    </li>

                    <li class="o-conversation-search-list__nested-list-item u-text-style__color--tertiary u-text-style__size--medium" title="${conversation.latestInteraction.duration}">
                      <label class="o-text__label o-conversation-search-list__label">Duration:&nbsp;</label>${conversation.latestInteraction.duration}
                    </li>
                    <li class="o-conversation-search-list__nested-list-item u-text-style__color--tertiary u-text-style__size--medium" title="${conversation.latestInteraction.time.date}">
                      <label class="o-text__label o-conversation-search-list__label">Date:&nbsp;</label>${conversation.latestInteraction.time.date}
                    </li>
                    <li class="o-conversation-search-list__nested-list-item u-text-style__color--tertiary u-text-style__size--medium" title="${conversation.latestInteraction.time.time}">
                      <label class="o-text__label o-conversation-search-list__label">Start Time:&nbsp;</label>${conversation.latestInteraction.time.time}
                    </li>
                  </ul>
                </div>

              </ul>
            </li>
          </ul>

          <button class="o-tile-list-view__pager o-tile-list-view__pager--flip o-tile-list-view__pager--next o-tile-list-view__pager--r-closer aurelia-hide" show.bind="showNext" click.delegate="next()"></button>

        </div>

      </div>
      <!-- / o-conversation-body__content -->

      <!-- footer -->
      <div class="row o-conversation-body__footer">
        <div class="c-to-center">
          <div class="col-sm-12">
            <div class="u-text-style__align--center">
              <button class="o-button__glass-rectangle o-button__glass-rectangle--respond o-text__button" click.delegate="searchContact()">Back</button>
              <button class="o-button__glass-rectangle o-button__glass-rectangle--respond o-text__button" click.delegate="createConversation()">Create</button>
            </div>
          </div>
        </div>
      </div>

    </div>
    <!-- / o-conversation-body -->

    <!-- side-bar -->
    <div class="o-conversation-content__side">
      <div class="c-side-panel__content-inner">
<!--        <div class="c-side-panel c-side-panel&#45;&#45;buttons">
          <div class="c-side-panel__button"></div>
          <div class="c-side-panel__button c-side-panel__button&#45;&#45;second"></div>
        </div>-->
        <div class="c-side-panel c-side-panel--title">
          <div class="c-side-panel__title">
            <span class="c-side-panel__text">Search</span>
            <span class="c-side-panel__text c-side-panel__text--seperator"></span>
            <span class="c-side-panel__text c-side-panel__text--highlight">Conversation</span>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!-- / o-conversation-content__inner -->

</template>