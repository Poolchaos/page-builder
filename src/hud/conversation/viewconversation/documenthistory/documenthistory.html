<template>

  <div class="col-sm-5 o-conversation-details">
    <div class="o-conversation-details__box o-conversation-details__box--border o-conversation-details__box--background">

      <div class="o-information-list__title u-text-style__align--center">Document History</div>

      <div if.bind="documentHistoryStore.showHistory">

        <div class="document-history-list-scroll" if.bind="documentHistoryStore.showScannedDocuments">

          <ul class="o-document-list">
            <li class="o-document-list__item-divider" if.bind="!documentHistoryStore.hasScannedDocument">
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title o-document-list__item-divider--text-centered">
                Scanned documents
              </div>
            </li>
						<div if.bind="!documentHistoryStore.hasScannedDocument" class="o-conversation-details__no-data-wrap">
							<p class="o-conversation-details__guide o-text__conversation-guide">You have no scanned documents.</p>
						</div>
            <li class="o-document-list__item-divider" if.bind="documentHistoryStore.hasScannedDocument">
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title o-document-list__item-divider--text-centered">
                Scanned documents
              </div>
            </li>
          </ul>

          <ul class="o-document-list" repeat.for="documentType of documentHistoryStore.documentHistory.scannedDocuments">
            <li class="o-document-list__item" repeat.for="scan of documentType.scans" click.delegate="previewScan(scan)">
              <div class="o-document-list__icon o-document-list__icon--background-color o-document-list__icon--scan pull-left" src="scan_icon"></div>
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title">
                ${scan.documentName}
              </div>
              <a class="o-document-list__download" click.delegate="downloadScan(scan)">
                <span class="o-document-list__download--icon"><!-- download --></span>
              </a>
            </li>
          </ul>

          <ul class="o-document-list">
            <li class="o-document-list__item-divider" if.bind="!documentHistoryStore.documentHistory.signedDocuments || documentHistoryStore.documentHistory.signedDocuments.length === 0">
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title o-document-list__item-divider--text-centered">
                Signed documents
              </div>
            </li>
						<div if.bind="!documentHistoryStore.documentHistory.signedDocuments || documentHistoryStore.documentHistory.signedDocuments.length === 0" class="o-conversation-details__no-data-wrap">
                <p class="o-conversation-details__guide o-text__conversation-guide">You have no signed documents.</p>
              </div>
            <li class="o-document-list__item-divider" if.bind="documentHistoryStore.documentHistory.signedDocuments && documentHistoryStore.documentHistory.signedDocuments.length !== 0">
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title o-document-list__item-divider--text-centered">
                Signed documents
              </div>
            </li>
            <li class="o-document-list__item" repeat.for="signedDocument of documentHistoryStore.documentHistory.signedDocuments" click.delegate="previewPdf(signedDocument)">
              <div class="o-document-list__icon o-document-list__icon--background-color o-document-list__icon--document pull-left" src="scan_icon"></div>
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title">
                ${signedDocument.documentName}
              </div>
              <a class="o-document-list__download" click.delegate="downloadPdf(signedDocument)">
                <span class="o-document-list__download--icon"><!-- download --></span>
              </a>
            </li>
          </ul>

          <ul class="o-document-list">
            <li class="o-document-list__item-divider" if.bind="!documentHistoryStore.documentHistory.fingerprintDocuments || documentHistoryStore.documentHistory.fingerprintDocuments.length === 0">
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title o-document-list__item-divider--text-centered">
                Scanned fingerprints
              </div>
            </li>
						<div if.bind="!documentHistoryStore.documentHistory.fingerprintDocuments || documentHistoryStore.documentHistory.fingerprintDocuments.length === 0" class="o-conversation-details__no-data-wrap">
                <p class="o-conversation-details__guide o-text__conversation-guide">You have no scanned fingerprints.</p>
              </div>
            <li class="o-document-list__item-divider" if.bind="documentHistoryStore.documentHistory.fingerprintDocuments && documentHistoryStore.documentHistory.fingerprintDocuments.length !== 0">
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title o-document-list__item-divider--text-centered">
                Scanned fingerprints
              </div>
            </li>
            <li class="o-document-list__item" repeat.for="fingerprint of documentHistoryStore.documentHistory.fingerprintDocuments" click.delegate="previewScan(fingerprint)">
              <div class="o-document-list__icon o-document-list__icon--background-color o-document-list__icon--fingerprint pull-left" src="scan_icon"></div>
              <div class="o-document-list__title o-document-list__title--with-two-icon o-text__conversation-list-title">
                ${fingerprint.documentName}
              </div>
              <a class="o-document-list__download" click.delegate="downloadFingerprint(fingerprint)">
                <span class="o-document-list__download--icon"><!-- download --></span>
              </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="aurelia-hide scan-animation-wrap" show.bind="documentHistoryStore.showPreview">
        
        
        <div class="o-conversation-details__no-data-wrap" if.bind="documentHistoryStore.documentHistory">
          <p class="o-conversation-details__guide o-text__conversation-guide">This is a preview of ${documentHistoryStore.preview.documentName}.</p>
        </div>
        
        <div class="aurelia-hide c-scan-animation" show.bind="documentHistoryStore.showScannedDocuments">
          
          <div class="o-video__button-container" style="position: absolute;top: -15px;right: 35px; pointer-events: none;">
            <div class="o-navigation-list__item">
              <button class="o-button o-button__navigate o-text__button o-text__button">
                <span class="o-button o-button__navigate o-button__navigate-inner">
                  <span class="o-icon-container o-icon-container--zoom"></span>
                </span>
              </button>
            </div>
          </div>
            
          <img class="scan-prvw" src.bind="documentHistoryStore.preview.content ? documentHistoryStore.preview.content : documentHistoryStore.preview.documentContent" />
        </div>

        <div class="c-scan-animation" if.bind="documentHistoryStore.showSignedDocuments">
          <object class="o-preview__document-height" class="doc_preview_sign" src="#toolbar=false" data.bind="documentHistoryStore.preview.documentTempURL" type="application/pdf" width="100%" height="412px"></object>
        </div>
      </div>
    </div>
  </div>
</template>