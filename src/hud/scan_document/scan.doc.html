<template>

	<!-- LEFT CUSTOMER/CLIENT DETAILS PANEL -->

	<!-- replaced
  
  <section class="col-lg-2 col-md-2 col-sm-1 on_call_left">
    
    <div class="on_call_left_inner clearfix">
      <h6 class="title">Title</h6>

      <div class="list_item_title_wrap col-lg-12 col-md-12 col-sm-12">
        <div class="hex_bg_small">
          <span class="search_icon"></span>
        </div>
        <h6 class="list_items_title pull-right">Client Name</h6>
      </div>

      <h6 class="" style="text-align:center;">00:01:20</h6>

      <div class="videoWrap video_small_wrap" show.bind="customerStore.isWrappingUp === false">

        <require from="hud/_custom/peer.video"></require>
        <peer-video></peer-video>

      </div>

      <div class="button_container">
        <button class="hexMedium"><span class="msg_icon"></span></button>
      </div>
    </div>
  </section>

  -->

	<section class="col-lg-3 co2-md-3 col-sm-2">

	</section>

	<section class="col-lg-2 col-md-2 col-sm-1 on_call_left">

		<div class="on_call_left_inner clearfix">

			<h6 class="title">Apply for a loan</h6>

			<div class="list_item_title_wrap col-lg-12 col-md-12 col-sm-12">
				<div class="hex_bg_small">
					<span class="search_icon"></span>
				</div>
				<h6 class="list_items_title pull-right">Client Name</h6>
			</div>

			<h6 style="text-align:center; display:none;">00:01:20</h6>

			<div class="videoWrap video_small_wrap" show.bind="customerStore.isWrappingUp === false">

				<!-- consider globalising -->
				<require from="hud/_custom/peer.video"></require>
				<peer-video></peer-video>

			</div>

			<div class="button_container left_col_msg_btn">
				<button class="hexMedium"><span class="msg_icon fadedContent"></span></button>
			</div>

		</div>

	</section>

	<!-- MIDDLE SCAN DOCUMENT CONTROL PANEL -->
	<section class="col-lg-5 col-md-5 ">

		<div class="row">

			<div class="col-lg-3 col-md-3 instructions_left">
				<ul class="scan_instruct">
					<li repeat.for="type of customerStore.documentTypes" click.trigger="requestScan(type.name)" show.bind="scanDocumentStore.showInstructions && customerStore.isWrappingUp === false">
						<button class="hexMedium toBeNoticed"><span class="docscan_icon"></span></button>
						<span class="text_line">
              <span class="double_line"></span>
						<span class="doc_type">${type.name}</span>
						<span class="text_line_angle"></span>
						</span>
					</li>
				</ul>
			</div>

			<div class="col-lg-9 col-md-9 instruction_progress_area clearfix">

				<div class="ruler_line_left">
					<span class="ruler_square_top"></span>
					<span class="ruler_line_center"></span>
					<span class="ruler_square_bottom"></span>
				</div>

				<div class="ruler_line_right">
					<span class="ruler_square_top"></span>
					<span class="ruler_line_center"></span>
					<span class="ruler_square_bottom"></span>
				</div>

				<div class="instruction_progress clearfix">

					<section show.bind="scanDocumentStore.showMessage">
						<h6 class="instructions_header" show.bind="customerStore.isWrappingUp === false">Please select a document to be scanned.</h6>
						<h6 class="instructions_header" show.bind="customerStore.isWrappingUp === true">Please select a document to be viewed.</h6>
					</section>

					<section show.bind="scanDocumentStore.showScan">

						<h6 class="instructions_header">Awaiting document to be placed in scanner. Please scan when ready.</h6>

						<div class="document_preview_area clearfix">
							<span class="preview_area_left"></span>
							<span class="preview_area_right"></span>
							<div class="instruction_guide">
								<img src="target/_assets/img/OSKI-lidOpening.gif" />
							</div>
						</div>

						<div class="request_scan_wrap">

							<button class="hexSmall toBeNoticed" click.trigger="cancelScan()">
								<span class="request_scan">Cancel</span>
							</button>


							<button class="hexSmall toBeNoticed" click.trigger="initiateScan()">
								<span class="request_scan">Scan</span>
							</button>

						</div>

					</section>

					<section show.bind="scanDocumentStore.showWaiting">

						<h6 class="instructions_header">Scan in progress...</h6>

						<div class="document_preview_area clearfix">
							<span class="preview_area_left"></span>
							<span class="preview_area_right"></span>
							<div class="instruction_guide">
								<img src="target/_assets/img/doc_scan.gif" />
							</div>
						</div>
					</section>

					<section show.bind="scanDocumentStore.showPreview">

						<h6 class="instructions_header">${scanDocumentStore.scanPreview.documentName}</h6>

						<div class="document_preview_area fp_preview clearfix">
							<span class="preview_area_left"></span>
							<span class="preview_area_right"></span>
							<div class="instruction_guide">
								<img class="doc_preview" src.bind="scanDocumentStore.scanPreview.content" show.bind="scanDocumentStore.scanPreview.content">
								<span show.bind="!scanDocumentStore.scanPreview.content">Something went wrong with that scan. Please try again.</span>
							</div>
						</div>

					</section>
					<!-- CLOSE SCAN DOCUMENTS ACTION -->
					<div class="awaitingAction_backButton">
						<button class="hexMedium" click.delegate="closeInstruction()" show.bind="scanDocumentStore.showInstructions">Back</button>

					</div>

					<div class="scan_state clearfix" show.bind="scanDocumentStore.showActions">
						<div class="pull-left">
							<button class="hexSmall toBeNoticed" click.delegate="cancel()">Cancel</button>
							<button class="hexSmall toBeNoticed" click.delegate="redo()">Redo</button>
						</div>
						<div class="pull-right">
							<!--button class="hexMedium" click.delegate="next()">next page</button-->
							<button class="hexSmall toBeNoticed" click.delegate="acceptDocument()">Accept</button>
						</div>
					</div>

				</div>

			</div>

			<div class="row">
				<div class="col-lg-3 col-md-3"></div>
				<div class="col-lg-7 col-md-9">
					<img style="width:133%; margin-top:10%; display: none;" src="target/_assets/img/audio_graph.png"> </div>
			</div>
	</section>

	<section class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
		<section>
			<div class="instruction_history">
				<div class="instruction_history_panels clearfix" repeat.for="scanType of customerStore.documentTypes">
					<div class="no_click" show.bind="!scanDocumentStore.canClose"></div>
					<!-- TODO this can be handled in the vm canDeactivate hook -->

					<h6 class="list_items_title pull-right instruction_history_title">${scanType.name}</h6>
					<div class="clearfix"></div>
					<ul class="instruction_history_item_list clearfix">
						<li class="instruction_history_items" repeat.for="scannedDocument of scanType.documents" click.trigger="previewDocument(scannedDocument)">
							<span class="list_item_container">
                <span class="docscan_icon_thumbnail"></span>
							<span class="instruction_history_items_number">${scannedDocument.name}</span>
							</span>
						</li>
					</ul>
					<span class="delete" show.bind="scanType.documents.length > 0"></span>
				</div>
			</div>

		</section>
	</section>

</template>
